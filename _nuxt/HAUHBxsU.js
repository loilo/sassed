var B=Object.defineProperty;var s=(t,o)=>B(t,"name",{value:o,configurable:!0});import{e as N,a0 as L,y as T,r as j,N as q,q as E,a1 as U,J as I,a2 as D,a3 as F,l as A,a4 as w,a5 as H,a6 as _,a7 as V,m as y,a8 as P,a9 as z,L as M,aa as W,ab as $,ac as G,ad as J}from"./984rY5tu.js";const Q=s((...t)=>t.find(o=>o!==void 0),"firstNonUndefined");function K(t){const o=t.componentName||"NuxtLink";function d(e){return typeof e=="string"&&e.startsWith("#")}s(d,"isHashLinkWithoutHashMode");function C(e,u,v){const r=v??t.trailingSlash;if(!e||r!=="append"&&r!=="remove")return e;if(typeof e=="string")return R(e,r);const l="path"in e&&e.path!==void 0?e.path:u(e).path;return{...e,name:void 0,path:R(l,r)}}s(C,"resolveTrailingSlashBehavior");function k(e){const u=L(),v=M(),r=y(()=>!!e.target&&e.target!=="_self"),l=y(()=>{const i=e.to||e.href||"";return typeof i=="string"&&P(i,{acceptRelative:!0})}),p=w("RouterLink"),g=typeof p!="string"?p.useLink:void 0,f=y(()=>{if(e.external)return!0;const i=e.to||e.href||"";return typeof i=="object"?!1:i===""||l.value}),n=y(()=>{const i=e.to||e.href||"";return f.value?i:C(i,u.resolve,e.trailingSlash)}),b=f.value?void 0:g?.({...e,to:n}),m=y(()=>{const i=e.trailingSlash??t.trailingSlash;if(!n.value||l.value||d(n.value))return n.value;if(f.value){const x=typeof n.value=="object"&&"path"in n.value?_(n.value):n.value,S=typeof x=="object"?u.resolve(x).href:x;return R(S,i)}return typeof n.value=="object"?u.resolve(n.value)?.href??null:R(z(v.app.baseURL,n.value),i)});return{to:n,hasTarget:r,isAbsoluteUrl:l,isExternal:f,href:m,isActive:b?.isActive??y(()=>n.value===u.currentRoute.value.path),isExactActive:b?.isExactActive??y(()=>n.value===u.currentRoute.value.path),route:b?.route??y(()=>u.resolve(n.value)),async navigate(i){await W(m.value,{replace:e.replace,external:f.value||r.value})}}}return s(k,"useNuxtLink"),N({name:o,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:k,setup(e,{slots:u}){const v=L(),{to:r,href:l,navigate:p,isExternal:g,hasTarget:f,isAbsoluteUrl:n}=k(e),b=T(!1),m=j(null),i=s(c=>{m.value=e.custom?c?.$el?.nextElementSibling:c?.$el},"elRef");function x(c){return!b.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===c:e.prefetchOn?.[c]??t.prefetchOn?.[c])&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!Z()}s(x,"shouldPrefetch");async function S(c=q()){if(b.value)return;b.value=!0;const h=typeof r.value=="string"?r.value:g.value?_(r.value):v.resolve(r.value).fullPath,a=g.value?new URL(h,window.location.href).href:h;await Promise.all([c.hooks.callHook("link:prefetch",a).catch(()=>{}),!g.value&&!f.value&&V(r.value,v).catch(()=>{})])}if(s(S,"prefetch"),x("visibility")){const c=q();let h,a=null;E(()=>{const O=X();U(()=>{h=I(()=>{m?.value?.tagName&&(a=O.observe(m.value,async()=>{a?.(),a=null,await S(c)}))})})}),D(()=>{h&&F(h),a?.(),a=null})}return()=>{if(!g.value&&!f.value&&!d(r.value)){const a={ref:i,to:r.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(x("interaction")&&(a.onPointerenter=S.bind(null,void 0),a.onFocus=S.bind(null,void 0)),b.value&&(a.class=e.prefetchedClass||t.prefetchedClass),a.rel=e.rel||void 0),A(w("RouterLink"),a,u.default)}const c=e.target||null,h=Q(e.noRel?"":e.rel,t.externalRelAttribute,n.value||f.value?"noopener noreferrer":"")||null;return e.custom?u.default?u.default({href:l.value,navigate:p,prefetch:S,get route(){if(!l.value)return;const a=new URL(l.value,window.location.href);return{path:a.pathname,fullPath:a.pathname,get query(){return H(a.search)},hash:a.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:h,target:c,isExternal:g.value||f.value,isActive:!1,isExactActive:!1}):null:A("a",{ref:m,href:l.value||null,rel:h,target:c,onClick:s(a=>{if(!(g.value||f.value))return a.preventDefault(),e.replace?v.replace(l.value):v.push(l.value)},"onClick")},u.default?.())}}})}s(K,"defineNuxtLink");const ae=K(J);function R(t,o){const d=o==="append"?$:G;return P(t)&&!t.startsWith("http")?t:d(t,!0)}s(R,"applyTrailingSlashBehavior");function X(){const t=q();if(t._observer)return t._observer;let o=null;const d=new Map,C=s((e,u)=>(o||=new IntersectionObserver(v=>{for(const r of v){const l=d.get(r.target);(r.isIntersecting||r.intersectionRatio>0)&&l&&l()}}),d.set(e,u),o.observe(e),()=>{d.delete(e),o?.unobserve(e),d.size===0&&(o?.disconnect(),o=null)}),"observe");return t._observer={observe:C}}s(X,"useObserver");const Y=/2g/;function Z(){const t=navigator.connection;return!!(t&&(t.saveData||Y.test(t.effectiveType)))}s(Z,"isSlowConnection");export{ae as _};
