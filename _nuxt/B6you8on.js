var T=Object.defineProperty;var v=(t,n)=>T(t,"name",{value:n,configurable:!0});import{e as j,a0 as _,y as B,r as E,N as w,q as U,a1 as I,J as F,a2 as H,a3 as V,l as P,a4 as k,a5 as D,a6 as O,a7 as z,m as x,a8 as N,a9 as M,L as W,aa as $,ab as G,ac as J,ad as Q}from"./DaWr52MF.js";const K=v((...t)=>t.find(n=>n!==void 0),"firstNonUndefined");function X(t){const n=t.componentName||"NuxtLink";function g(e){return typeof e=="string"&&e.startsWith("#")}v(g,"isHashLinkWithoutHashMode");function C(e,l,b){const a=b??t.trailingSlash;if(!e||a!=="append"&&a!=="remove")return e;if(typeof e=="string")return q(e,a);const s="path"in e&&e.path!==void 0?e.path:l(e).path;return{...e,name:void 0,path:q(s,a)}}v(C,"resolveTrailingSlashBehavior");function A(e){const l=_(),b=W(),a=x(()=>!!e.target&&e.target!=="_self"),s=x(()=>{const f=e.to||e.href||"";return typeof f=="string"&&N(f,{acceptRelative:!0})}),S=k("RouterLink"),y=typeof S!="string"?S.useLink:void 0,h=x(()=>{if(e.external)return!0;const f=e.to||e.href||"";return typeof f=="object"?!1:f===""||s.value}),i=x(()=>{const f=e.to||e.href||"";return h.value?f:C(f,l.resolve,e.trailingSlash)}),c=h.value||y==null?void 0:y({...e,to:i}),m=x(()=>{var R;const f=e.trailingSlash??t.trailingSlash;if(!i.value||s.value||g(i.value))return i.value;if(h.value){const p=typeof i.value=="object"&&"path"in i.value?O(i.value):i.value,r=typeof p=="object"?l.resolve(p).href:p;return q(r,f)}return typeof i.value=="object"?((R=l.resolve(i.value))==null?void 0:R.href)??null:q(M(b.app.baseURL,i.value),f)});return{to:i,hasTarget:a,isAbsoluteUrl:s,isExternal:h,href:m,isActive:(c==null?void 0:c.isActive)??x(()=>i.value===l.currentRoute.value.path),isExactActive:(c==null?void 0:c.isExactActive)??x(()=>i.value===l.currentRoute.value.path),route:(c==null?void 0:c.route)??x(()=>l.resolve(i.value)),async navigate(f){await $(m.value,{replace:e.replace,external:h.value||a.value})}}}return v(A,"useNuxtLink"),j({name:n,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:A,setup(e,{slots:l}){const b=_(),{to:a,href:s,navigate:S,isExternal:y,hasTarget:h,isAbsoluteUrl:i}=A(e),c=B(!1),m=E(null),f=v(r=>{var o;m.value=e.custom?(o=r==null?void 0:r.$el)==null?void 0:o.nextElementSibling:r==null?void 0:r.$el},"elRef");function R(r){var o,u;return!c.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===r:((o=e.prefetchOn)==null?void 0:o[r])??((u=t.prefetchOn)==null?void 0:u[r]))&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!ee()}v(R,"shouldPrefetch");async function p(r=w()){if(c.value)return;c.value=!0;const o=typeof a.value=="string"?a.value:y.value?O(a.value):b.resolve(a.value).fullPath,u=y.value?new URL(o,window.location.href).href:o;await Promise.all([r.hooks.callHook("link:prefetch",u).catch(()=>{}),!y.value&&!h.value&&z(a.value,b).catch(()=>{})])}if(v(p,"prefetch"),R("visibility")){const r=w();let o,u=null;U(()=>{const d=Y();I(()=>{o=F(()=>{var L;(L=m==null?void 0:m.value)!=null&&L.tagName&&(u=d.observe(m.value,async()=>{u==null||u(),u=null,await p(r)}))})})}),H(()=>{o&&V(o),u==null||u(),u=null})}return()=>{var u;if(!y.value&&!h.value&&!g(a.value)){const d={ref:f,to:a.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(R("interaction")&&(d.onPointerenter=p.bind(null,void 0),d.onFocus=p.bind(null,void 0)),c.value&&(d.class=e.prefetchedClass||t.prefetchedClass),d.rel=e.rel||void 0),P(k("RouterLink"),d,l.default)}const r=e.target||null,o=K(e.noRel?"":e.rel,t.externalRelAttribute,i.value||h.value?"noopener noreferrer":"")||null;return e.custom?l.default?l.default({href:s.value,navigate:S,prefetch:p,get route(){if(!s.value)return;const d=new URL(s.value,window.location.href);return{path:d.pathname,fullPath:d.pathname,get query(){return D(d.search)},hash:d.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:o,target:r,isExternal:y.value||h.value,isActive:!1,isExactActive:!1}):null:P("a",{ref:m,href:s.value||null,rel:o,target:r},(u=l.default)==null?void 0:u.call(l))}}})}v(X,"defineNuxtLink");const re=X(Q);function q(t,n){const g=n==="append"?G:J;return N(t)&&!t.startsWith("http")?t:g(t,!0)}v(q,"applyTrailingSlashBehavior");function Y(){const t=w();if(t._observer)return t._observer;let n=null;const g=new Map,C=v((e,l)=>(n||(n=new IntersectionObserver(b=>{for(const a of b){const s=g.get(a.target);(a.isIntersecting||a.intersectionRatio>0)&&s&&s()}})),g.set(e,l),n.observe(e),()=>{g.delete(e),n==null||n.unobserve(e),g.size===0&&(n==null||n.disconnect(),n=null)}),"observe");return t._observer={observe:C}}v(Y,"useObserver");const Z=/2g/;function ee(){const t=navigator.connection;return!!(t&&(t.saveData||Z.test(t.effectiveType)))}v(ee,"isSlowConnection");export{re as _};
