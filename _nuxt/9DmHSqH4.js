var N=Object.defineProperty;var s=(t,o)=>N(t,"name",{value:o,configurable:!0});import{e as T,a0 as A,N as w,m as j,a1 as E,J as U,a2 as I,a3 as H,l as P,a4 as _,a5 as D,a6 as F,y as V,r as z,a7 as B,a8 as M,a9 as W,x as b,aa as O,ab as $,ac as G,ad as J,ae as Q,L as K}from"./Byr3GMuT.js";const X=s((...t)=>t.find(o=>o!==void 0),"firstNonUndefined");function Y(t){const o=t.componentName||"NuxtLink";function v(e){return typeof e=="string"&&e.startsWith("#")}s(v,"isHashLinkWithoutHashMode");function C(e,l,d){const a=d??t.trailingSlash;if(!e||a!=="append"&&a!=="remove")return e;if(typeof e=="string")return k(e,a);const u="path"in e&&e.path!==void 0?e.path:l(e).path;return{...e,name:void 0,path:k(u,a)}}s(C,"resolveTrailingSlashBehavior");function q(e){const l=A(),d=K(),a=b(()=>!!e.target&&e.target!=="_self"),u=b(()=>{const i=e.to||e.href||"";return typeof i=="string"&&O(i,{acceptRelative:!0})}),x=_("RouterLink"),g=typeof x!="string"?x.useLink:void 0,f=b(()=>{if(e.external)return!0;const i=e.to||e.href||"";return typeof i=="object"?!1:i===""||u.value}),n=b(()=>{const i=e.to||e.href||"";return f.value?i:C(i,l.resolve,e.trailingSlash)}),y=f.value?void 0:g?.({...e,to:n}),m=b(()=>{const i=e.trailingSlash??t.trailingSlash;if(!n.value||u.value||v(n.value))return n.value;if(f.value){const R=typeof n.value=="object"&&"path"in n.value?B(n.value):n.value,S=typeof R=="object"?l.resolve(R).href:R;return k(S,i)}return typeof n.value=="object"?l.resolve(n.value)?.href??null:k($(d.app.baseURL,n.value),i)});return{to:n,hasTarget:a,isAbsoluteUrl:u,isExternal:f,href:m,isActive:y?.isActive??b(()=>n.value===l.currentRoute.value.path),isExactActive:y?.isExactActive??b(()=>n.value===l.currentRoute.value.path),route:y?.route??b(()=>l.resolve(n.value)),async navigate(i){await W(m.value,{replace:e.replace,external:f.value||a.value})}}}return s(q,"useNuxtLink"),T({name:o,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:q,setup(e,{slots:l}){const d=A(),{to:a,href:u,navigate:x,isExternal:g,hasTarget:f,isAbsoluteUrl:n}=q(e),y=V(!1),m=z(null),i=s(c=>{m.value=e.custom?c?.$el?.nextElementSibling:c?.$el},"elRef");function R(c){return!y.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===c:e.prefetchOn?.[c]??t.prefetchOn?.[c])&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!te()}s(R,"shouldPrefetch");async function S(c=w()){if(y.value)return;y.value=!0;const h=typeof a.value=="string"?a.value:g.value?B(a.value):d.resolve(a.value).fullPath,r=g.value?new URL(h,window.location.href).href:h;await Promise.all([c.hooks.callHook("link:prefetch",r).catch(()=>{}),!g.value&&!f.value&&M(a.value,d).catch(()=>{})])}if(s(S,"prefetch"),R("visibility")){const c=w();let h,r=null;j(()=>{const p=Z();E(()=>{h=U(()=>{m?.value?.tagName&&(r=p.observe(m.value,async()=>{r?.(),r=null,await S(c)}))})})}),I(()=>{h&&H(h),r?.(),r=null})}return()=>{if(!g.value&&!f.value&&!v(a.value)){const r={ref:i,to:a.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(R("interaction")&&(r.onPointerenter=S.bind(null,void 0),r.onFocus=S.bind(null,void 0)),y.value&&(r.class=e.prefetchedClass||t.prefetchedClass),r.rel=e.rel||void 0),P(_("RouterLink"),r,l.default)}const c=e.target||null,h=X(e.noRel?"":e.rel,t.externalRelAttribute,n.value||f.value?"noopener noreferrer":"")||null;return e.custom?l.default?l.default({href:u.value,navigate:x,prefetch:S,get route(){if(!u.value)return;const r=new URL(u.value,window.location.href);return{path:r.pathname,fullPath:r.pathname,get query(){return D(r.search)},hash:r.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:u.value}},rel:h,target:c,isExternal:g.value||f.value,isActive:!1,isExactActive:!1}):null:P("a",{ref:m,href:u.value||null,rel:h,target:c,onClick:s(async r=>{if(!(g.value||f.value)){r.preventDefault();try{const p=F(u.value);return await(e.replace?d.replace(p):d.push(p))}finally{if(v(a.value)){const p=a.value.slice(1);let L=p;try{L=decodeURIComponent(p)}catch{}document.getElementById(L)?.focus()}}}},"onClick")},l.default?.())}}})}s(Y,"defineNuxtLink");const le=Y(G);function k(t,o){const v=o==="append"?J:Q;return O(t)&&!t.startsWith("http")?t:v(t,!0)}s(k,"applyTrailingSlashBehavior");function Z(){const t=w();if(t._observer)return t._observer;let o=null;const v=new Map,C=s((e,l)=>(o||=new IntersectionObserver(d=>{for(const a of d){const u=v.get(a.target);(a.isIntersecting||a.intersectionRatio>0)&&u&&u()}}),v.set(e,l),o.observe(e),()=>{v.delete(e),o?.unobserve(e),v.size===0&&(o?.disconnect(),o=null)}),"observe");return t._observer={observe:C}}s(Z,"useObserver");const ee=/2g/;function te(){const t=navigator.connection;return!!(t&&(t.saveData||ee.test(t.effectiveType)))}s(te,"isSlowConnection");export{le as _};
